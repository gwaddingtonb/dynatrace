{
  "schemaId": "builtin:anomaly-detection.metric-events",
  "schemaVersion": "1.0.3",
  "scope": "environment",
  "value": {
    "enabled": true,
    "summary": "${DB_CLUSTER_NAME}-swap-alert",
    "queryDefinition": {
      "type": "METRIC_KEY",
      "metricKey": "builtin:cloud.aws.rds.memory.swap",
      "aggregation": "AVG",
      "entityFilter": {
        "dimensionKey": "dt.entity.relational_database_service",
        "conditions": [
          {
            "type": "NAME",
            "operator": "CONTAINS_CASE_SENSITIVE",
            "value": "${DB_CLUSTER_NAME}-dbinstance"
          },
          {
            "type": "MANAGEMENT_ZONE",
            "operator": "EQUALS",
            "value": "-2021972831921368595"
          }
        ]
      },
      "dimensionFilter": []
    },
    "modelProperties": {
      "type": "STATIC_THRESHOLD",
      "threshold": 4000000000,
      "alertOnNoData": false,
      "alertCondition": "ABOVE",
      "violatingSamples": 5,
      "samples": 30,
      "dealertingSamples": 30
    },
    "eventTemplate": {
      "title": "${DB_CLUSTER_NAME}-swap-alert",
      "description": "Custom Alert for high SWAP usage",
      "eventType": "CUSTOM_ALERT",
      "davisMerge": false,
      "metadata": []
    },
    "eventEntityDimensionKey": "dt.entity.relational_database_service",
    "legacyId": "b8921be3-5484-439b-9d24-ad1148d375b6"
  }
}